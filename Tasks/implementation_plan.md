# План реализации: Улучшение отображения получателя в журнале склада

## Описание цели
Для операций списания топлива по Путевым Листам (EXPENSE, documentType=WAYBILL) в колонке "Получатель / Куда" вместо непонятного ID отображать информацию о Транспортном Средстве (которое, по сути, потребляет топливо).

## Текущая проблема
В интерфейсе отображается "Получатель ID: <uuid>", что неинформативно для пользователя.

## Предлагаемые изменения

### Frontend
#### [MODIFY] `components/warehouse/FuelMovements.tsx`
*   В `enrichedMovements` (`useMemo`):
*   Найти блок `else if (m.movementType === 'EXPENSE')`.
*   Сейчас там: `toLabel = recipient ? ... : (m.documentId ? 'Получатель ID: ...' : '-')`
*   Добавить условие:
    ```typescript
    if (m.documentType === 'WAYBILL') {
        // Для ПЛ расходуется из бака, значит "получатель" - это как бы использование ТС.
        // Пользователь хочет видеть номер ТС.
        // ТС у нас есть в stockLocationName (если это бак), но оно в "Откуда".
        // Мы можем задублировать его или написать "ТС: <имя локации или номер>"
        // Лучше всего: если fromStockLocationName содержит номер ТС, использовать его.
        toLabel = !m.toStockLocationName && m.stockLocationName ? 
                  `ТС: ${m.stockLocationName.replace(/^Бак:?\s*/i, '')}` : 
                  (m.toStockLocationName || 'Двигатель ТС');
    }
    ```
*   Важно: В `EXPENSE` `stockLocationName` - это ОТКУДА (источник).
*   Формат локации обычно "Бак: А168ХН174 (ЛАДА)". Можно просто очистить префикс "Бак: ".

## План верификации
1.  **Ручная проверка:**
    *   Открыть журнал складских операций.
    *   Найти списание по ПЛ.
    *   Убедиться, что в колонке "Получатель" написано "ТС: <Номер>" вместо ID.