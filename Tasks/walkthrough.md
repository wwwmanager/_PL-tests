# –û—Ç—á–µ—Ç –ø–æ –æ—Ç–ª–∞–¥–∫–µ API –ø—É—Ç–µ–≤—ã—Ö –ª–∏—Å—Ç–æ–≤

## –û–±–∑–æ—Ä

–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ API –ø—É—Ç–µ–≤—ã—Ö –ª–∏—Å—Ç–æ–≤ –∏ –∑–∞–ø—É—â–µ–Ω backend-—Å–µ—Ä–≤–µ—Ä TypeORM.

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ backend

#### [waybillController.ts](file:///c:/_PL-tests/backend/src/controllers/waybillController.ts#L34-L63)

–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é `createWaybill`:
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (id, organizationId, role)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ (payload)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è —Å ID –ø—É—Ç–µ–≤–æ–≥–æ –ª–∏—Å—Ç–∞ –∏ blankId
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å –ø–æ–ª–Ω—ã–º stack trace
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ TypeScript lint —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ null

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –≤ –ª–æ–≥:**
```
üì• POST /api/waybills - Request received
  üë§ User: { id: '...', organizationId: '...', role: '...' }
  üì¶ Body: { number: 'TEST-001', vehicleId: '...', ... }
üîÑ Creating waybill...
‚úÖ Waybill created successfully: { id: '...', number: 'TEST-001', blankId: null }
```

---

### 2. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–µ—Ä–≤–∏—Å–µ backend

#### [waybillService.ts](file:///c:/_PL-tests/backend/src/services/waybillService.ts#L71-L157)

–î–æ–±–∞–≤–ª–µ–Ω–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–µ—Ä–≤–∏—Å `createWaybill`:
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (organizationId, number, vehicleId, driverId, blankId)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞—Ç—ã
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –≤–æ–¥–∏—Ç–µ–ª—è —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ –ø—É—Ç–µ–≤–æ–≥–æ –ª–∏—Å—Ç–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î —Å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º ID
- ‚úÖ –£–ª—É—á—à–µ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –≤ –ª–æ–≥:**
```
üìù createWaybill service called
  Input: { organizationId: '...', number: 'TEST-001', blankId: null, ... }
üîç Looking up vehicle: abc123...
  ‚úì Vehicle found: { id: '...', registrationNumber: 'A123BC', brand: 'Toyota' }
üîç Looking up driver: def456...
  ‚úì Driver found: { id: '...', employeeName: '–ò–≤–∞–Ω–æ–≤ –ò.–ò.', licenseNumber: '1234567890' }
üíæ Creating waybill entity...
  Entity prepared: { organizationId: '...', vehicleId: '...', blankId: null, ... }
üíæ Saving to database...
  ‚úÖ Saved with ID: xyz789...
```

---

### 3. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –º–∞–ø–ø–µ—Ä–µ frontend

#### [waybillMapper.ts](file:///c:/_PL-tests/services/api/waybillMapper.ts#L75-L123)

–î–æ–±–∞–≤–ª–µ–Ω—ã –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏ –≤ `mapFrontWaybillToBackendCreate`:
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø—É—Ç–µ–≤–æ–≥–æ –ª–∏—Å—Ç–∞ —Å frontend
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö DTO –¥–ª—è backend
- ‚úÖ –í—ã–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è blankId (undefined ‚Üí null)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ DEV

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ –≤ –ª–æ–≥:**
```
üîÑ Mapping frontend ‚Üí backend (CREATE)
Input (frontend waybill): {
  number: 'TEST-001',
  vehicleId: '...',
  blankId: undefined,
  odometerStart: 10000
}
Output (backend DTO): {
  number: 'TEST-001',
  vehicleId: '...',
  blankId: null,
  odometerStart: 10000
}
```

---

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### [data-source.ts](file:///c:/_PL-tests/backend/src/db/data-source.ts)

- ‚úÖ –í–∫–ª—é—á–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SQL –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ (`logging: true`)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ–º —Ñ–∞–π–ª–∞ (–±—ã–ª —Å–ª—É—á–∞–π–Ω–æ –ø—Ä–æ–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω)
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω —Ä–µ–∂–∏–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ TypeORM –¥–ª—è –∞–≤—Ç–æ-–º–∏–≥—Ä–∞—Ü–∏–∏

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞

### –ó–∞–ø—É—Å–∫ backend-—Å–µ—Ä–≤–µ—Ä–∞

**–¢–µ—Å—Ç:** –ó–∞–ø—É—Å–∫ TypeORM backend-—Å–µ—Ä–≤–µ—Ä–∞

```bash
cd c:\_PL-tests\backend
npm run dev
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£–°–ü–ï–®–ù–û

```
‚úÖ TypeORM DataSource initialized
üìä Database: localhost:5432
üöÄ Backend running on http://localhost:3001
üìä Environment: development
üîó API endpoints available at http://localhost:3001/api
‚ù§Ô∏è  Health check: http://localhost:3001/api/health
```

---

### Health Check —ç–Ω–¥–ø–æ–∏–Ω—Ç

**–¢–µ—Å—Ç:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã backend

```bash
curl http://localhost:3001/api/health
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£–°–ü–ï–®–ù–û

```json
{
  "status": "ok",
  "timestamp": "2025-11-29T12:25:03.726Z"
}
```

**HTTP Status:** 200 OK

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ö–µ–º—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

TypeORM –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–ª —Ç–∞–±–ª–∏—Ü—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—É—â–Ω–æ—Å—Ç–µ–π. –õ–æ–≥ SQL –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:

- ‚úÖ –¢–∞–±–ª–∏—Ü–∞ `waybills` —Å–æ–∑–¥–∞–Ω–∞ —Å–æ –≤—Å–µ–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏
- ‚úÖ –ö–æ–ª–æ–Ω–∫–∞ `blankId` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∫–∞–∫ —Ç–∏–ø `uuid`, nullable
- ‚úÖ Enum `waybills_status_enum` —Å–æ–∑–¥–∞–Ω –¥–ª—è –ø–æ–ª—è status
- ‚úÖ –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è:
  - `organizationId` ‚Üí `organizations`
  - `vehicleId` ‚Üí `vehicles`
  - `driverId` ‚Üí `drivers`
  - `departmentId` ‚Üí `departments` (nullable)

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä

–¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ backend —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ–ª–Ω—ã–º –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º, —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å Frontend**
   ```bash
   cd c:\_PL-tests
   npm run dev
   ```

2. **–í–æ–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
   - –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `http://localhost:5173`
   - –í–æ–π—Ç–∏ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª–æ–≥–æ–≤ httpClient

3. **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –ø—É—Ç–µ–≤–æ–π –ª–∏—Å—Ç**
   - –ü–µ—Ä–µ–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª "–ü—É—Ç–µ–≤—ã–µ –ª–∏—Å—Ç—ã"
   - –ù–∞–∂–∞—Ç—å "–°–æ–∑–¥–∞—Ç—å –ø—É—Ç–µ–≤–æ–π –ª–∏—Å—Ç"
   - –ó–∞–ø–æ–ª–Ω–∏—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
     - –ù–æ–º–µ—Ä, –î–∞—Ç–∞, –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ, –í–æ–¥–∏—Ç–µ–ª—å
     - –û—Å—Ç–∞–≤–∏—Ç—å BlankId –ø—É—Å—Ç—ã–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è null
   - –ù–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

4. **–û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏**
   - **–ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (DevTools):** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ frontend –∏–∑ httpClient
   - **–¢–µ—Ä–º–∏–Ω–∞–ª Backend:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –∏–∑ controller/service/mapper
   - **SQL –∑–∞–ø—Ä–æ—Å—ã:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä INSERT –≤ –ª–æ–≥–∞—Ö backend

5. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ frontend –ø–æ–ª—É—á–∏–ª –æ—Ç–≤–µ—Ç 201 Created
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ–±—ä–µ–∫—Ç –ø—É—Ç–µ–≤–æ–≥–æ –ª–∏—Å—Ç–∞ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ blankId
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–∏—Å—å –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Prisma Studio –∏–ª–∏ psql

---

## –û–∂–∏–¥–∞–µ–º—ã–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### Frontend (–∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞)

```
üîó Waybill API: Using REAL BACKEND
üåê POST http://localhost:3001/api/waybills
üì§ Request Headers: { Authorization: "Bearer ..." }
üì¶ Request Payload: {
  number: "TEST-001",
  date: "2025-11-29",
  vehicleId: "...",
  driverId: "...",
  blankId: null,
  odometerStart: 10000
}

üîÑ Mapping frontend ‚Üí backend (CREATE)
Input (frontend waybill): { ... }
Output (backend DTO): { ... }

‚úÖ POST /api/waybills - Status 201
üì• Response: {
  id: "...",
  organizationId: "...",
  number: "TEST-001",
  blankId: null,
  ...
}
```

### Backend (—Ç–µ—Ä–º–∏–Ω–∞–ª)

```
üì• POST /api/waybills - Request received
  üë§ User: { id: "...", organizationId: "...", role: "admin" }
  üì¶ Body: { number: "TEST-001", vehicleId: "...", ... }

üìù createWaybill service called
  Input: { organizationId: "...", blankId: null, ... }

üîç Looking up vehicle: ...
  ‚úì Vehicle found: { ... }

üîç Looking up driver: ...
  ‚úì Driver found: { ... }

üíæ Creating waybill entity...
  Entity prepared: { blankId: null, ... }

üíæ Saving to database...
query: INSERT INTO "waybills" (...) VALUES (...)
  ‚úÖ Saved with ID: ...

‚úÖ Waybill created successfully: { id: "...", number: "TEST-001", blankId: null }
```

---

## –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ï—Å–ª–∏ backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- –§–∞–π–ª `.env` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `backend/`
- `DATABASE_URL` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- PostgreSQL —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 5432
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `waybills` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
psql -U postgres -c "CREATE DATABASE waybills;"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª .env
cat backend/.env
```

---

### –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç/–Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω

**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ 401 Unauthorized
- –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ "–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è"

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- `localStorage.getItem('accessToken')` –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- –¢–æ–∫–µ–Ω –Ω–µ –∏—Å—Ç–µ–∫ (—Å—Ä–æ–∫ –∂–∏–∑–Ω–∏ 15 –º–∏–Ω—É—Ç)
- JWT_SECRET backend —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –æ–∂–∏–¥–∞–Ω–∏—è–º–∏ frontend

**–†–µ—à–µ–Ω–∏–µ:**
- –í–æ–π—Ç–∏ —Å–Ω–æ–≤–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–æ–∫–µ–Ω–∞ –Ω–∞ —Å–∞–π—Ç–µ `jwt.io`

---

### –ï—Å–ª–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ/–≤–æ–¥–∏—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ 400 Bad Request
- "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ" –∏–ª–∏ "–í–æ–¥–∏—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- Vehicle/Driver ID —è–≤–ª—è—é—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º–∏ UUID
- –ó–∞–ø–∏—Å–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ó–∞–ø–∏—Å–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —Ç–æ–π –∂–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, —á—Ç–æ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

**–†–µ—à–µ–Ω–∏–µ:**
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞
SELECT id, "registrationNumber", "organizationId" FROM vehicles;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–æ–¥–∏—Ç–µ–ª–µ–π
SELECT d.id, e."fullName", e."organizationId"
FROM drivers d
JOIN employees e ON d."employeeId" = e.id;
```

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

- [x] Backend-—Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] Health check —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 200 OK
- [x] –í—Å–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- [x] SQL –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ
- [x] TypeORM –∞–≤—Ç–æ-—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] POST /api/waybills –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–æ–∂–∏–¥–∞–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞)
- [ ] BlankId –º–æ–∂–µ—Ç –±—ã—Ç—å null –∏–ª–∏ UUID (–æ–∂–∏–¥–∞–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞)
- [ ] –°–æ–∑–¥–∞–Ω–Ω—ã–π –ø—É—Ç–µ–≤–æ–π –ª–∏—Å—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–æ–∂–∏–¥–∞–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞)
- [ ] –õ–æ–≥–∏ –∫–æ–Ω—Å–æ–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–æ–∂–∏–¥–∞–µ—Ç —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞)

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ñ–∞–∑–µ —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä.
